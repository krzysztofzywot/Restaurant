{% extends "news/layout.html" %}

{% block title %}
  My Orders
{% endblock %}

{% block body %}
  <h3>My Orders</h3>
  <hr>
    {% if orders %}
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Pizzas</th>
            <th scope="col">Subs</th>
            <th scope="col">Pastas</th>
            <th scope="col">Salads</th>
            <th scope="col">Dinner Platters</th>
            <th scope="col">Total Price</th>
            <th scope="col">Order Status</th>
          </tr>
        </thead>
        <tbody>
          {% for order in orders %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <td>
                {% if order.pizzas.all %}
                <ul>
                  {% for pizza in order.pizzas.all %}
                    <li>{{ pizza }}</li>
                  {% endfor %}
                </ul>
                {% else %}
                  <center>-</center>
                {% endif %}
              </td>
              <td>
                {% if order.subs.all %}
                <ul>
                  {% for sub in order.subs.all %}
                    <li>{{ sub }}</li>
                  {% endfor %}
                </ul>
                {% else %}
                  <center>-</center>
                {% endif %}
              </td>
              <td>
                {% if order.pastas.all %}
                <ul>
                  {% for pasta in order.pastas.all %}
                    <li>{{ pasta }}</li>
                  {% endfor %}
                </ul>
                {% else %}
                  <center>-</center>
                {% endif %}
              </td>
              <td>
                {% if order.salads.all %}
                <ul>
                  {% for salad in order.salads.all %}
                    <li>{{ salad }}</li>
                  {% endfor %}
                </ul>
                {% else %}
                  <center>-</center>
                {% endif %}
              </td>
              <td>
                {% if order.dinner_platters.all %}
                <ul>
                  {% for dinner_platter in order.dinner_platters.all %}
                    <li>{{ dinner_platter }}</li>
                  {% endfor %}
                </ul>
                {% else %}
                  <center>-</center>
                {% endif %}
              </td>
              <td>
                {{ order.total_price }}
              </td>
              <td>
                {{ order.order_status }}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <h4>You have no orders yet.</h4>
    {% endif %}

{% endblock %}
